# 第二部分：体系结构与汇编指令:  

  - 1.指令集对CPU的意义：汇编的实质是机器指令的助记符；汇编器、编译器、不同cpu的机器指令集设计不同，因此汇编程序不能再不同CPU间互相移植。  
  - 2.RISC和CISC的区别: 复杂指令集、精简指令集；  
  - 3.统一编址、独立编址：
    - 内存的访问方式（CPU所能寻址的范围是一定的，而内存是需要占用CPU的寻址空间的--CPU与内存直接连接方式访问）  
    - IO（外设）的访问方式：两种方式：  
      一种是类似于访问内存的方式，即把外设的寄存器当作一个内存地址来读写，从而访问内存相同的方式来操作外设，叫IO于内存统一编址方式；  
      另一种是使用专用的CPU指令来访问某种特定外设，叫IO与内存独立编址。 
      
  - 4.寄存器（特殊功能寄存器（片内外设）、通用寄存器37）： 
    - 
  - 5.S5PV210 地址（内存）映射：  
    - 4G空间如何分配使用：MEMORY ADDRESS MAP  ROM:不能通过地址总线写，只能读操作。
  - 6.CPU和外部存储器的接口：  
  CPU连接内存和外存的连接方式不同。内存需要直接地址访问，所以通过地址总线&数据总线的总线式访问方式访问；好处是直接连接，随机访问；坏处是占用CPU的地址空间，大小受限。外存是通过CPU的外存接口来连接的（好处是不占用CPU地址空间，坏处是访问速度没有总线式快，访问时序复杂）   
    - 内存：   
      - SRAM  static memory  容量小，价格高，优点是不需要软件初始化直接上电就能用；  
      - DRAM  dynamic memory 容量大，价格低，缺点上电后需要软件初始化才能用；     
    - 外存：  
      - Norflash:  总线式访问，接到SROM bank 优点是可以直接总线访问，一般用来作启动介质。  
      - Nandflash:  分为SLC（稳定，容量小，价格高）和MLC（容量大，价格便宜，易出错）  
        - eMMC/iNand/moviNand:
        - oneNAND:
        - SD卡/TF卡、MMC卡:
        - eSSD:  
      
  - PC机：很小容量的BIOS（NorFlash）+ 很大容量的硬盘（类似NandFlash）+ 大容量的DRAM；    
  - 一般单片机：很小容量的Norflash + 很小容量的SRAM；  
  - 嵌入式系统：因为NorFlash很贵，所以现在很多嵌入式系统倾向于不使用NorFlash，直接外接大容量Nand + Soc内置SRAM + 外接大容量DRAM； 
  - 7.S5PV210启动过程:  
    210内置了一块96KB大小的SRAM（叫iRAM）,同时还有一块内置的64KB大小的Norflash(iROM);  
    大致启动过程：  
      第一步：CPU上电后先从内部IROM中读取预先设置的代码（BL0）
      
  - 8 ARM的7种工作模式：  
    - User  
    - FIQ  
    - IRQ  
    - Supervisor  
    - Abort  
    - System 
    各种模式的切换，可以是程序员通过代码主动切换（通过写CPSR程序寄存器），也可以是CPU在某些情况下自动切换。  
    各种模式下权限和可以访问的寄存器不同，普通寄存器总共16个，分为R0-R15;状态寄存器共2个，分为CPSR和SPSR。
    
    -  R15(Program Counter)PC程序计数器:它的值是当前正在执行的指令在内存中的位置（不考虑流水线的影响），而当指令执行结束后，CPU硬件会自动将PC的值加一个单位，从而使得PC的值为下一条即将执行的指令在内存中的位置，这样CPU硬件就可以根据PC的值自动完成取指操作。对于我们进行汇编程序编写而言PC寄存器亦是什么重要，因为当程序员通过汇编指令完成对PC寄存器的赋值操作的时候，其实就是完成了一次无条件跳转，这一点请务必牢记。
    
    -  R14（linked register） LR链接寄存器，它与子程序调用密切相关，用于存放子程序的返回地址，它是ARM程序实现子程序调用的关键所在。
    
    -  R13（Stack Pointer）SP栈指针寄存器。它是用于存放堆栈的栈顶地址的。也就是说，每次当我们在出栈和入栈操作的时候，都将根据寄存器的值来决定访问内存
的位置，同时在出栈和入栈操作完成后，SP寄存器的值应该相应增加或减少。  
  - 状态寄存器CPSR与SPSR  
    - CPSR当前程序状态寄存器：N Z C V ---...---l F T M4 M3 M2 M1 M0
    - SPSR保存的程序状态寄存器：该寄存器的结构与CPSR完全一样，在发生异常时，由硬件自动将异常发生前的CPSR的值存放到SPSR,以便将来在异常处理结束后，程序能恢复原来CPSR的值。   

